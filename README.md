# discourse-抽奖插件

## 功能简介
- 发起人可在指定板块/标签下按模板发帖发起抽奖
- 抽奖帖需写明：抽奖名称、活动奖品、获奖人数、开奖时间、简单说明
- 用户按要求回复即参与，无需点击按钮
- 到开奖时间自动抽奖，剔除发起人和重复用户
- 自动在主题内公布中奖名单
- 自动将抽奖主题添加【已开奖】
- 自动添加标签“抽奖结束”
- 中奖者会在中奖帖子中显示中奖
- 会自动发送系统信息给中奖者通知
- 自动开奖后自动锁定主贴，不可编辑及回帖(0710)
- 发帖增加[抽奖]...[/抽奖]标签，并且自动检查输入内容正确性，前端美化(0711 需配合校验、美化组件)
- 新增：支持为单次抽奖设定“最低积分”门槛（积分来自 discourse-gamification 插件）。若未设置或为 0，表示不限制；低于门槛的用户会被自动忽略，并在话题页提示。

## 使用方法
1. 管理员设置允许抽奖的标签（如 抽奖活动）
2. 发帖格式示例：
   ```
   [抽奖]
   抽奖名称：2025年夏季抽奖
   活动奖品：蓝牙耳机一副
   获奖人数：2
   开奖时间：2025-07-10 20:00
   最低积分：10
   简单说明：每人仅限一次，仅限回复参与（一句话）
   [/抽奖]

   其他活动说明、介绍

   ```
3. 用户只需回复参与
4. 插件自动开奖并公布结果

## 安装方法
参考 Discourse 插件安装说明，将本插件仓库添加到 app.yml
```
- git clone https://github.com/maiizii/discourse-choujiang.git
```
